import{G as D,aG as _,aH as j,h as E,r as v,ad as G,l as O,m as L,D as N}from"./Ka5Y-oHc.js";function W(t){return _()?(j(t),!0):!1}function g(t){return typeof t=="function"?t():E(t)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=Object.prototype.toString,q=t=>R.call(t)==="[object Object]",b=()=>{};function I(t,e){function n(...o){return new Promise((i,r)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(i).catch(r)})}return n}const B=t=>t();function H(t,e={}){let n,o,i=b;const r=a=>{clearTimeout(a),i(),i=b};return a=>{const f=g(t),s=g(e.maxWait);return n&&r(n),f<=0||s!==void 0&&s<=0?(o&&(r(o),o=null),Promise.resolve(a())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,s&&!o&&(o=setTimeout(()=>{n&&r(n),o=null,u(a())},s)),n=setTimeout(()=>{o&&r(o),o=null,u(a())},f)})}}function V(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const o=e;e=void 0,o&&await o},n}function $(t,e,n={}){const{eventFilter:o=B,...i}=n;return D(t,I(o,e),i)}function z(t,e,n={}){const{immediate:o=!0}=n,i=v(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function a(){i.value=!1,c()}function f(...s){c(),i.value=!0,r=setTimeout(()=>{i.value=!1,r=null,t(...s)},g(e))}return o&&(i.value=!0,S&&f()),W(a),{isPending:G(i),start:f,stop:a}}function X(t,e,n={}){const{debounce:o=0,maxWait:i=void 0,...r}=n;return $(t,e,{...r,eventFilter:H(o,{maxWait:i})})}function J(t){var e;const n=g(t);return(e=n==null?void 0:n.$el)!=null?e:n}const P=S?window:void 0,k=S?window.navigator:void 0;function h(...t){let e,n,o,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,i]=t,e=P):[e,n,o,i]=t,!e)return b;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],c=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,m,l)=>(u.addEventListener(d,m,l),()=>u.removeEventListener(d,m,l)),f=D(()=>[J(e),g(i)],([u,d])=>{if(c(),!u)return;const m=q(d)?{...d}:d;r.push(...n.flatMap(l=>o.map(y=>a(u,l,y,m))))},{immediate:!0,flush:"post"}),s=()=>{f(),c()};return W(s),s}function K(){const t=v(!1),e=N();return e&&L(()=>{t.value=!0},e),t}function T(t){const e=K();return O(()=>(e.value,!!t()))}function C(t,e={}){const{controls:n=!1,navigator:o=k}=e,i=T(()=>o&&"permissions"in o);let r;const c=typeof t=="string"?{name:t}:t,a=v(),f=()=>{r&&(a.value=r.state)},s=V(async()=>{if(i.value){if(!r)try{r=await o.permissions.query(c),h(r,"change",f),f()}catch{a.value="prompt"}return r}});return s(),n?{state:a,isSupported:i,query:s}:a}function Y(t={}){const{navigator:e=k,read:n=!1,source:o,copiedDuring:i=1500,legacy:r=!1}=t,c=T(()=>e&&"clipboard"in e),a=C("clipboard-read"),f=C("clipboard-write"),s=O(()=>c.value||r),u=v(""),d=v(!1),m=z(()=>d.value=!1,i);function l(){c.value&&x(a.value)?e.clipboard.readText().then(p=>{u.value=p}):u.value=M()}s.value&&n&&h(["copy","cut"],l);async function y(p=g(o)){s.value&&p!=null&&(c.value&&x(f.value)?await e.clipboard.writeText(p):F(p),u.value=p,d.value=!0,m.start())}function F(p){const w=document.createElement("textarea");w.value=p??"",w.style.position="absolute",w.style.opacity="0",document.body.appendChild(w),w.select(),document.execCommand("copy"),w.remove()}function M(){var p,w,A;return(A=(w=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:w.toString())!=null?A:""}function x(p){return p==="granted"||p==="prompt"}return{isSupported:s,text:u,copied:d,copy:y}}function Q(t={}){const{window:e=P}=t,n=e==null?void 0:e.navigator,o=T(()=>n&&"connection"in n),i=v(!0),r=v(!1),c=v(void 0),a=v(void 0),f=v(void 0),s=v(void 0),u=v(void 0),d=v(void 0),m=v("unknown"),l=o.value&&n.connection;function y(){n&&(i.value=n.onLine,c.value=i.value?void 0:Date.now(),a.value=i.value?Date.now():void 0,l&&(f.value=l.downlink,s.value=l.downlinkMax,d.value=l.effectiveType,u.value=l.rtt,r.value=l.saveData,m.value=l.type))}return e&&(h(e,"offline",()=>{i.value=!1,c.value=Date.now()}),h(e,"online",()=>{i.value=!0,a.value=Date.now()})),l&&h(l,"change",y,!1),y(),{isSupported:o,isOnline:i,saveData:r,offlineAt:c,onlineAt:a,downlink:f,downlinkMax:s,effectiveType:d,rtt:u,type:m}}function Z(t={}){const{isOnline:e}=Q(t);return e}export{Z as a,Y as u,X as w};
